(this.webpackJsonpmainpage=this.webpackJsonpmainpage||[]).push([[0],{155:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(142),s=a(0),i=a(29),o=a(233),c=a(64),r=a(234),l=a(238),u=a(240),d=a(241),p=a(147),b=a(242),j=(a(154),a(155),a(45)),h=a(90),f=a(91),m=a(104),x=a(103),O=a(143),g=a(237),y=a(236),S=a(239),C=a(15),v=function(e){Object(m.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).formItemLayout={labelCol:{xs:{span:12},sm:{span:5}},wrapperCol:{xs:{span:48},sm:{span:12}}},n.onFileUpload=function(e){var t=e.file.status;"uploading"!==t&&(console.log(e.file,e.fileList),n.setState({Files:e.fileList})),"done"===t?(O.b.success("".concat(e.file.name," file analysed successfully.")),n.setState({needsupdate:!1,data:e.file.response.tabledata,updateColumns:!0,buttondisabled:e.file.response.buttondisabled,templatedisabled:!0})):"error"===t&&O.b.error("".concat(e.file.name," file analysis failed."))},n.propsUpload={name:["Upload","file"],multiple:!1,action:"/upload/fileSubmit",method:"POST",onChange:n.onFileUpload,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},n.success=function(){O.b.success("Data Submitted",5)},n.declined=function(){O.b.error("Something went wrong!",5)},n.state={needsupdate:!0,api:n.props.api},n}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(e){this.state.api!==this.props.api&&this.setState({needsupdate:!0,api:this.props.api})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(g.a,{id:"SubmitData",onFieldsChange:this.fieldChange,onFinish:this.onFinish,children:Object(C.jsx)(g.a.Item,Object(j.a)(Object(j.a)({},this.formItemLayout),{},{label:"Upload File",children:Object(C.jsxs)(y.a,Object(j.a)(Object(j.a)({},this.propsUpload),{},{bodyStyle:{backgroundColor:"#e6f7ff"},children:[Object(C.jsx)("p",{className:"ant-upload-drag-icon",style:{fontSize:30,color:"#40a9ff",textAlign:"center",backgroundColor:"#e6f7ff",width:600},children:Object(C.jsx)(S.a,{})}),Object(C.jsx)("p",{className:"ant-upload-text",style:{color:"#40a9ff",textAlign:"center",backgroundColor:"#e6f7ff"},children:"Click or drag files to this area to upload"}),Object(C.jsx)("p",{className:"ant-upload-hint",children:" "})]}))}))})})}}]),a}(s.Component),D=a(116),k=a.n(D),w=a(136),I=a(144),F=a(82),N=a(235),U=function(e){Object(m.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).formItemLayout={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},n.tableLayout={labelCol:{xs:{span:48},sm:{span:5}},wrapperCol:{xs:{span:48},sm:{span:12}}},n.filterData=function(e,t){return Object(I.a)(new Set(e.map((function(e){return e[t]})))).map((function(e){return{text:e,value:e}}))},n.makeSorter=function(e){return function(t,a){if("Number"===e)return t[e]-a[e];var n=null===t[e]?"+":t[e],s=null===a[e]?"+":a[e];return n.localeCompare(s)}},n.updateColumns=function(){var e=n.state.columns.map((function(e){return{title:e.title,dataIndex:e.dataIndex,key:e.key,sortDirections:["ascend","descend"],filters:n.filterData(n.state.dataSource,e.key),onFilter:function(t,a){return 0===a[e.key].indexOf(t)},sorter:function(t,a){return n.makeSorter(e.dataIndex)(t,a)}}}));n.setState({columns:e,updateColumns:!1})},n.fieldChange=function(e){fetch(n.props.api+"/formSubmit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DataRequest:e[0].value})}).then((function(e){return e.ok?n.success():n.declined(),e.json()})).then((function(e){n.setState({needsupdate:!1,dataSource:e.dataSource,columns:e.columns,updateColumns:!0})}))},n.success=function(){O.b.success("Table updated!",5)},n.declined=function(){O.b.error("Something went wrong!",5)},n.state={needsupdate:!0,updateColumns:!1,dataSource:[],columns:[],buttondisabled:!1,api:n.props.api,DDData:[{id:1,value:"Entry 1"}]},n}return Object(f.a)(a,[{key:"getData",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.props.api+"/getData");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({needsupdate:!1,DDData:a.DDData});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.state.api!==this.props.api&&this.setState({needsupdate:!0,api:this.props.api})}},{key:"render",value:function(){return this.state.needsupdate&&this.getData(),this.state.updateColumns&&!this.state.needsupdate&&this.updateColumns(),Object(C.jsxs)(g.a,{id:"Select",onFieldsChange:this.fieldChange,children:[Object(C.jsx)(g.a.Item,Object(j.a)(Object(j.a)({},this.formItemLayout),{},{label:"Select Data",name:["Select","Data"],children:Object(C.jsxs)(F.a,Object(j.a)(Object(j.a)({},this.formItemLayout),{},{children:[this.state.DDData.map((function(e){return Object(C.jsx)(F.a.Option,{value:e.id,children:e.value},e.id)})),";"]}))})),Object(C.jsx)(N.a,{dataSource:this.state.dataSource,columns:this.state.columns,pagination:{pageSizeOptions:["20","50"],showSizeChanger:!0,defaultPageSize:20}})]})}}]),a}(s.Component),L=o.a.Header,T=o.a.Content,M=o.a.Footer,z=o.a.Sider,A=function(e){var t="/api",a=Object(s.useState)("Menu1"),i=Object(n.a)(a,2),j=i[0],h=i[1];return Object(C.jsxs)(o.a,{children:[Object(C.jsxs)(z,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:[Object(C.jsx)("div",{className:"logo"}),Object(C.jsxs)(c.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["Menu1"],selectedKeys:j,onSelect:function(e){return h(e.key)},children:[Object(C.jsxs)(r.a,{orientation:"left",style:{color:"white"},children:[Object(C.jsx)(u.a,{})," Divider"]}),Object(C.jsx)(c.a.Item,{icon:Object(C.jsx)(d.a,{}),children:"Upload Example"},"Menu1"),Object(C.jsxs)(r.a,{orientation:"left",style:{color:"white"},children:[Object(C.jsx)(p.a,{})," Divider"]}),Object(C.jsx)(c.a.Item,{icon:Object(C.jsx)(b.a,{}),children:"Table Example"},"Menu2")]})]}),Object(C.jsxs)(o.a,{children:[Object(C.jsx)(L,{className:"site-layout-sub-header-background",style:{textAlign:"center",color:"white",fontSize:"24px"},children:Object(C.jsx)(l.b,{children:Object(C.jsx)("b",{children:"Page Title"})})}),Object(C.jsx)(T,{style:{margin:"24px 16px 0"},children:Object(C.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[function(e){switch(e){case"Menu1":return Object(C.jsx)("div",{className:"site-foreground",style:{width:800,margin:"20px auto"},children:Object(C.jsx)(v,{api:t})});case"Menu2":return Object(C.jsx)("div",{className:"site-foreground",style:{width:800,margin:"20px auto"},children:Object(C.jsx)(U,{api:t})})}}(j),Object(C.jsx)("div",{style:{marginTop:16}})]})}),Object(C.jsx)(M,{style:{textAlign:"center"},children:"Powered by Ant UED"})]})]})};Object(i.render)(Object(C.jsx)(A,{input:{ID:0,element:5}}),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.01a786d9.chunk.js.map